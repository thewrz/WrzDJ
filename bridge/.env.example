# WrzDJ StageLinQ Bridge Configuration
#
# Copy this file to .env and fill in the values

# WrzDJ backend API URL
# For local development: http://localhost:8000
# For production: https://your-backend-url.com
WRZDJ_API_URL=http://localhost:8000

# Bridge API key for authentication
# Generate one with: openssl rand -hex 32
# Must match BRIDGE_API_KEY in the backend .env
WRZDJ_BRIDGE_API_KEY=

# Event code from the DJ dashboard
# This is the 6-character code shown on the event page
WRZDJ_EVENT_CODE=

# Optional: Minimum seconds before reporting a new track (debounce)
# Default: 5 seconds. Prevents rapid switching during transitions.
MIN_PLAY_SECONDS=5

# ============================================
# Live Detection Settings (Robust Track Detection)
# ============================================
# These settings control when a track is considered "live" (being played to the
# audience) vs "cueing" (being prepared by the DJ).

# Seconds of continuous play before a track is reported as "live"
# Default: 8 seconds. Prevents reporting tracks that are just being cued.
# Set to 0 to disable threshold (report immediately like before).
LIVE_THRESHOLD_SECONDS=8

# Seconds of pause tolerated before resetting the play timer
# Default: 3 seconds. Allows brief pauses during mixing without resetting.
# If DJ pauses longer than this, the play timer resets.
PAUSE_GRACE_SECONDS=3

# Whether to require channel fader > 0 for live detection
# Default: true. Track won't be reported if fader is all the way down.
# Set to false if your equipment doesn't report fader data.
USE_FADER_DETECTION=true

# Whether to only report tracks from the master deck
# Default: true. Only the deck marked as master will report tracks.
# Set to false to report from any deck that meets the threshold.
MASTER_DECK_PRIORITY=true
